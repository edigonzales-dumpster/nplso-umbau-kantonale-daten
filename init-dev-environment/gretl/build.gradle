import ch.so.agi.gretl.steps.*

task deleteGemeindegrenzenContent(type: SqlExecutorTask) {
    database = ["jdbc:postgresql://geodb-dev.cgjofbdf5rqg.eu-central-1.rds.amazonaws.com:5432/xanadu2", dbUser, dbPass]
    sqlFiles = ["deleteGemeindegrenzenContent.sql"]
}

task setupGemeindegrenzen(type: SqlExecutorTask) {
    database = ["jdbc:postgresql://geodb-dev.cgjofbdf5rqg.eu-central-1.rds.amazonaws.com:5432/xanadu2", dbUser, dbPass]
    sqlFiles = ["setupGemeindegrenzen.sql"]
}

task copyGemeindegrenzen(type: Db2DbTask) {
    sourceDb =  ["jdbc:postgresql://geodb.verw.rootso.org:5432/sogis", "mspublic", "mspublic"]
    targetDb = ["jdbc:postgresql://geodb-dev.cgjofbdf5rqg.eu-central-1.rds.amazonaws.com:5432/xanadu2", dbUser, dbPass]
    transferSets = [
            new TransferSet("copyGemeindegrenzen.sql", 'agi_hoheitsgrenzen_pub.hoheitsgrenzen_gemeindegrenze', true)
    ]
}

task setupAdagis(type: SqlExecutorTask) {
    database = ["jdbc:postgresql://geodb-dev.cgjofbdf5rqg.eu-central-1.rds.amazonaws.com:5432/xanadu2", dbUser, dbPass]
    sqlFiles = ["setupAdagis.sql"]
}

task deleteAdagisContent(type: SqlExecutorTask) {
    database = ["jdbc:postgresql://geodb-dev.cgjofbdf5rqg.eu-central-1.rds.amazonaws.com:5432/xanadu2", dbUser, dbPass]
    sqlFiles = ["deleteAdagisContent.sql"]
}

task copyAdagis(type: Db2DbTask) {
    sourceDb =  ["jdbc:postgresql://geodb.verw.rootso.org:5432/sogis", "mspublic", "mspublic"]
    targetDb = ["jdbc:postgresql://geodb-dev.cgjofbdf5rqg.eu-central-1.rds.amazonaws.com:5432/xanadu2", dbUser, dbPass]
    transferSets = [
            new TransferSet("copyAdagis_Flaechen.sql", 'ada_adagis_a.flaechenfundstellen', true),
            new TransferSet("copyAdagis_Punkte.sql", 'ada_adagis_a.punktfundstellen', true)
    ]
}

task setupGws(type: SqlExecutorTask) {
    database = ["jdbc:postgresql://geodb-dev.cgjofbdf5rqg.eu-central-1.rds.amazonaws.com:5432/xanadu2", dbUser, dbPass]
    sqlFiles = ["setupGws.sql"]
}

task deleteGwsContent(type: SqlExecutorTask) {
    database = ["jdbc:postgresql://geodb-dev.cgjofbdf5rqg.eu-central-1.rds.amazonaws.com:5432/xanadu2", dbUser, dbPass]
    sqlFiles = ["deleteGwsContent.sql"]
}

task copyGws(type: Db2DbTask) {
    sourceDb =  ["jdbc:postgresql://geodb.verw.rootso.org:5432/sogis", "mspublic", "mspublic"]
    targetDb = ["jdbc:postgresql://geodb-dev.cgjofbdf5rqg.eu-central-1.rds.amazonaws.com:5432/xanadu2", dbUser, dbPass]
    transferSets = [
            new TransferSet("copyGws.sql", 'aww_gszoar', true)
    ]
}